[{"D:\\demo\\react-pocket\\src\\index.tsx":"1","D:\\demo\\react-pocket\\src\\reportWebVitals.ts":"2","D:\\demo\\react-pocket\\src\\App.tsx":"3","D:\\demo\\react-pocket\\src\\views\\Tags.tsx":"4","D:\\demo\\react-pocket\\src\\views\\404.tsx":"5","D:\\demo\\react-pocket\\src\\views\\TagDetail.tsx":"6","D:\\demo\\react-pocket\\src\\views\\Statistics.tsx":"7","D:\\demo\\react-pocket\\src\\views\\Money.tsx":"8","D:\\demo\\react-pocket\\src\\variables.ts":"9","D:\\demo\\react-pocket\\src\\views\\Money\\SectionTags.tsx":"10","D:\\demo\\react-pocket\\src\\views\\Money\\SectionNote.tsx":"11","D:\\demo\\react-pocket\\src\\views\\Money\\SectionNumber.tsx":"12","D:\\demo\\react-pocket\\src\\components\\Layout.tsx":"13","D:\\demo\\react-pocket\\src\\components\\Icon.tsx":"14","D:\\demo\\react-pocket\\src\\hooks\\useUpdate.tsx":"15","D:\\demo\\react-pocket\\src\\hooks\\useRecords.tsx":"16","D:\\demo\\react-pocket\\src\\hooks\\useTags.tsx":"17","D:\\demo\\react-pocket\\src\\components\\Button.tsx":"18","D:\\demo\\react-pocket\\src\\components\\InputItem.tsx":"19","D:\\demo\\react-pocket\\src\\components\\CategorySelect.tsx":"20","D:\\demo\\react-pocket\\src\\components\\CenterBox.tsx":"21","D:\\demo\\react-pocket\\src\\components\\Nav.tsx":"22","D:\\demo\\react-pocket\\src\\components\\Header.tsx":"23","D:\\demo\\react-pocket\\src\\views\\Money\\sectionNumber\\calculateOutput.tsx":"24","D:\\demo\\react-pocket\\src\\lib\\create.tsx":"25","D:\\demo\\react-pocket\\src\\components\\X.tsx":"26","D:\\demo\\react-pocket\\src\\components\\MessageBox.tsx":"27","D:\\demo\\react-pocket\\src\\lib\\createMessage.tsx":"28","D:\\demo\\react-pocket\\src\\components\\EmptyInfo.tsx":"29"},{"size":516,"mtime":1616375785982,"results":"30","hashOfConfig":"31"},{"size":440,"mtime":1616375785987,"results":"32","hashOfConfig":"31"},{"size":1015,"mtime":1616463188958,"results":"33","hashOfConfig":"31"},{"size":6057,"mtime":1616466096118,"results":"34","hashOfConfig":"31"},{"size":115,"mtime":1616375785991,"results":"35","hashOfConfig":"31"},{"size":1833,"mtime":1616375786001,"results":"36","hashOfConfig":"31"},{"size":6164,"mtime":1616466012560,"results":"37","hashOfConfig":"31"},{"size":2070,"mtime":1616463406235,"results":"38","hashOfConfig":"31"},{"size":209,"mtime":1616375785989,"results":"39","hashOfConfig":"31"},{"size":3734,"mtime":1616463231991,"results":"40","hashOfConfig":"31"},{"size":1321,"mtime":1616375785995,"results":"41","hashOfConfig":"31"},{"size":3873,"mtime":1616375785996,"results":"42","hashOfConfig":"31"},{"size":638,"mtime":1616399062205,"results":"43","hashOfConfig":"31"},{"size":736,"mtime":1616375785955,"results":"44","hashOfConfig":"31"},{"size":286,"mtime":1616375785965,"results":"45","hashOfConfig":"31"},{"size":1172,"mtime":1616463531621,"results":"46","hashOfConfig":"31"},{"size":1780,"mtime":1616403904272,"results":"47","hashOfConfig":"31"},{"size":215,"mtime":1616375785950,"results":"48","hashOfConfig":"31"},{"size":1215,"mtime":1616392555163,"results":"49","hashOfConfig":"31"},{"size":1946,"mtime":1616375785951,"results":"50","hashOfConfig":"31"},{"size":214,"mtime":1616375785952,"results":"51","hashOfConfig":"31"},{"size":1463,"mtime":1616375785958,"results":"52","hashOfConfig":"31"},{"size":728,"mtime":1616375785954,"results":"53","hashOfConfig":"31"},{"size":719,"mtime":1616375785999,"results":"54","hashOfConfig":"31"},{"size":193,"mtime":1616375785984,"results":"55","hashOfConfig":"31"},{"size":2533,"mtime":1616392498251,"results":"56","hashOfConfig":"31"},{"size":710,"mtime":1616397496414,"results":"57","hashOfConfig":"31"},{"size":1690,"mtime":1616403827603,"results":"58","hashOfConfig":"31"},{"size":817,"mtime":1616465988353,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"gn2bpa",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"62"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"D:\\demo\\react-pocket\\src\\index.tsx",[],["121","122"],"D:\\demo\\react-pocket\\src\\reportWebVitals.ts",[],"D:\\demo\\react-pocket\\src\\App.tsx",[],"D:\\demo\\react-pocket\\src\\views\\Tags.tsx",[],"D:\\demo\\react-pocket\\src\\views\\404.tsx",[],"D:\\demo\\react-pocket\\src\\views\\TagDetail.tsx",[],"D:\\demo\\react-pocket\\src\\views\\Statistics.tsx",["123","124"],"import Layout from \"../components/Layout\";\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {useTags} from \"../hooks/useTags\";\r\nimport {RecordItem, useRecords} from \"../hooks/useRecords\";\r\nimport {Button} from '../components/Button';\r\nimport Icon from 'components/Icon'\r\nimport day from 'dayjs';\r\nimport Variables from '../variables';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {EmptyInfo} from '../components/EmptyInfo';\r\n\r\nconst LayoutList = styled(Layout)`\r\n`;\r\nconst Item = styled.div`\r\n  background: #fff;\r\n  margin-bottom: 4px;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .date-wrapper {\r\n    font-size: 18px;\r\n      //color: ${Variables.$darkGrey};\r\n    border-right: 1px solid #f5f5f5;\r\n    padding: 8px;\r\n    height: 62px;\r\n  }\r\n\r\n  header {\r\n    display: flex;\r\n    background: #fff;\r\n    color: ${Variables.$darkGrey};\r\n\r\n    .amount-wrapper {\r\n      display: flex;\r\n      flex: 1;\r\n      padding: 4px 8px;\r\n      align-items: center;\r\n\r\n      .amount {\r\n        flex: 1;\r\n        padding: 0 8px;\r\n\r\n        .category {\r\n          font-size: 12px;\r\n        }\r\n\r\n        .total {\r\n          font-size: 20px;\r\n          margin-top: 6px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .record-wrapper {\r\n    flex: 1;\r\n    background: #f5f5f5;\r\n    display: flex;\r\n    padding-right: 8px;\r\n\r\n    .bg {\r\n      width: 110px;\r\n    }\r\n\r\n    ul {\r\n      flex: 1;\r\n\r\n      li {\r\n        position: relative;\r\n        margin: 8px 0;\r\n        background: #fff;\r\n        border-radius: 4px;\r\n\r\n        &:after {\r\n          content: '';\r\n          position: absolute;\r\n          height: 12px;\r\n          border-left: 6px solid transparent;\r\n          border-top: 6px solid transparent;\r\n          border-bottom: 6px solid transparent;\r\n          border-right: 6px solid #fff;\r\n          left: -12px;\r\n          top: 10px;\r\n        }\r\n\r\n        .category {\r\n          position: absolute;\r\n          left: -36px;\r\n          top: 4px;\r\n          height: 20px;\r\n          width: 20px;\r\n          border-radius: 20px;\r\n          font-size: 16px;\r\n          line-height: 1;\r\n          color: #fff;\r\n\r\n          &.in {\r\n            background: ${Variables.$green};\r\n          }\r\n\r\n          &.out {\r\n            background: ${Variables.$red};\r\n          }\r\n        }\r\n\r\n        .content {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          font-size: 16px;\r\n          font-weight: bold;\r\n          padding: 6px 10px;\r\n          color: ${Variables.$darkGrey};\r\n          border-bottom: 1px solid #f5f5f5;\r\n\r\n          .out {\r\n            color: ${Variables.$red};\r\n          }\r\n\r\n          .in {\r\n            color: ${Variables.$green}\r\n          }\r\n        }\r\n\r\n        .note {\r\n          padding: 6px 8px;\r\n          color: ${Variables.$grey};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst EmptyWrapper = styled.div`\r\n  height: 100%;\r\n  .nav {\r\n    display: block;\r\n    margin: 40px auto;\r\n    padding: 12px 20px;\r\n    border-radius: 4px;\r\n    background: ${Variables.$blue};\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nfunction Statistics() {\r\n  const {getTagNames} = useTags();\r\n  const {records} = useRecords();\r\n  let newRecords: { [K: string]: RecordItem[] } = {};\r\n  records.forEach(r => {\r\n    const key = day(r.createAt).format('YYYY-MM-DD');\r\n    if (newRecords[key] === undefined) {\r\n      newRecords[key] = [];\r\n    }\r\n    newRecords[key].push(r);\r\n  });\r\n  const groupRecords = Object.entries(newRecords);\r\n  // 计算总金额\r\n  const calcAmount = (array: RecordItem[]) => {\r\n    let inCome = 0;\r\n    let outCome = 0;\r\n    array.forEach(item => {\r\n      if (item.category === '-') {\r\n        outCome = outCome + item.amount;\r\n      } else {\r\n        inCome = inCome + item.amount;\r\n      }\r\n    });\r\n    return [inCome, outCome];\r\n  };\r\n  return (\r\n    <LayoutList title='统计'>\r\n      {groupRecords && groupRecords.length ?\r\n        groupRecords.map((r, index) => {\r\n          return (\r\n            <Item key={index}>\r\n              <header>\r\n                <div className=\"date-wrapper flex-center\">\r\n                  <div className=\"date\">{r[0]}</div>\r\n                </div>\r\n                <div className=\"amount-wrapper\">\r\n                  <div className=\"amount\">\r\n                    <div className=\"category\">收入(元）</div>\r\n                    <div className=\"total\">{calcAmount(r[1])[0]}</div>\r\n                  </div>\r\n                  <div className=\"amount\">\r\n                    <div className=\"category\">支出(元)</div>\r\n                    <div className=\"total\">{calcAmount(r[1])[1]}</div>\r\n                  </div>\r\n                </div>\r\n              </header>\r\n              <div className=\"record-wrapper\">\r\n                <div className=\"bg\"></div>\r\n                <ul>\r\n                  {r[1].map(item => {\r\n                    return <li key={item.createAt}>\r\n                      <div\r\n                        className={item.category === '-' ? 'category flex-center out' : 'category flex-center in'}>{item.category}</div>\r\n                      <section className=\"content\">\r\n                        <div className=\"tags\">{getTagNames(item.tagIds)}</div>\r\n                        <div className={item.category === '-' ? 'out' : 'in'}>\r\n                          {item.category === '-' ? `-${item.amount}` : `+${item.amount}`}\r\n                        </div>\r\n                      </section>\r\n                      {item.note === '' || item.note === undefined ? null : (\r\n                        <section className=\"note\">\r\n                          <div className=\"noteContent\">{item.note}</div>\r\n                        </section>\r\n                      )}\r\n                    </li>;\r\n                  })}\r\n                </ul>\r\n              </div>\r\n            </Item>\r\n          );\r\n        }) :\r\n        <EmptyWrapper className='flex-center'>\r\n          <EmptyInfo message='暂无记录' icon='empty'>\r\n            <NavLink to=\"/money\" className='nav'>\r\n              去添加\r\n            </NavLink>\r\n          </EmptyInfo>\r\n        </EmptyWrapper>}\r\n    </LayoutList>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n","D:\\demo\\react-pocket\\src\\views\\Money.tsx",[],"D:\\demo\\react-pocket\\src\\variables.ts",[],"D:\\demo\\react-pocket\\src\\views\\Money\\SectionTags.tsx",[],"D:\\demo\\react-pocket\\src\\views\\Money\\SectionNote.tsx",[],"D:\\demo\\react-pocket\\src\\views\\Money\\SectionNumber.tsx",[],"D:\\demo\\react-pocket\\src\\components\\Layout.tsx",[],"D:\\demo\\react-pocket\\src\\components\\Icon.tsx",[],"D:\\demo\\react-pocket\\src\\hooks\\useUpdate.tsx",[],"D:\\demo\\react-pocket\\src\\hooks\\useRecords.tsx",[],"D:\\demo\\react-pocket\\src\\hooks\\useTags.tsx",[],"D:\\demo\\react-pocket\\src\\components\\Button.tsx",[],"D:\\demo\\react-pocket\\src\\components\\InputItem.tsx",[],"D:\\demo\\react-pocket\\src\\components\\CategorySelect.tsx",[],"D:\\demo\\react-pocket\\src\\components\\CenterBox.tsx",[],"D:\\demo\\react-pocket\\src\\components\\Nav.tsx",[],"D:\\demo\\react-pocket\\src\\components\\Header.tsx",[],"D:\\demo\\react-pocket\\src\\views\\Money\\sectionNumber\\calculateOutput.tsx",[],"D:\\demo\\react-pocket\\src\\lib\\create.tsx",[],["125","126"],"D:\\demo\\react-pocket\\src\\components\\X.tsx",[],"D:\\demo\\react-pocket\\src\\components\\MessageBox.tsx",[],"D:\\demo\\react-pocket\\src\\lib\\createMessage.tsx",[],"D:\\demo\\react-pocket\\src\\components\\EmptyInfo.tsx",[],{"ruleId":"127","replacedBy":"128"},{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","severity":1,"message":"132","line":6,"column":9,"nodeType":"133","messageId":"134","endLine":6,"endColumn":15},{"ruleId":"131","severity":1,"message":"135","line":7,"column":8,"nodeType":"133","messageId":"134","endLine":7,"endColumn":12},{"ruleId":"127","replacedBy":"136"},{"ruleId":"129","replacedBy":"137"},"no-native-reassign",["138"],"no-negated-in-lhs",["139"],"@typescript-eslint/no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Icon' is defined but never used.",["138"],["139"],"no-global-assign","no-unsafe-negation"]